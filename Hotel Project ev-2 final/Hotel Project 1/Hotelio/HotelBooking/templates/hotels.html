{% extends 'base.html' %}
{% load static %}

{% block title %}
    Available Properties | HOTELIO
{% endblock title %}

{% block style %}

<link rel="stylesheet" href="{% static 'css/hotels.css' %}">
{% endblock %}

{% block main %}

<!-- Flash messages -->
{% if messages %}
  <div class="flash-messages">
    {% for message in messages %}
      <div class="alert alert-info" role="alert">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}

<!-- Property Listings -->
{% load static %}

<div id="properties-container">
    {% for property in properties %}
        <div class="property-box">
          <img src="{{ property.image.url }}" alt="{{ property.name }}" class="property-image">


            <div class="property-details">
                <h3>{{ property.name }}</h3>
                <p><strong>Description:</strong> {{ property.description }}</p>
                <p><strong>Location:</strong> {{ property.location }}</p>
                <p><strong>Price:</strong> â‚¹{{ property.price }}</p>
                <p><strong>Rooms Available:</strong> {{ property.rooms_available }}</p>
                <p><strong>License No.:</strong> {{ property.license_number }}</p>
            </div>

            {% if user.is_authenticated %}
                <button class="book-now-btn" onclick="window.location.href='{% url 'book' property.id %}'">Book Now</button>
            {% else %}
                <button class="book-now-btn" onclick="window.location.href='{% url 'login' %}'">Login to Book</button>
            {% endif %}
        </div>
    {% endfor %}
</div>

{% endblock main %}
